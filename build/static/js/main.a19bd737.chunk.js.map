{"version":3,"sources":["components/MovieList.js","components/Movie.jsx","App.js","index.js"],"names":["queryString","require","MovieList","history","useHistory","location","useLocation","useState","Title","Year","imdbID","Type","Poster","ok","movies","setMovies","useEffect","parse","search","q","getMovies","a","axios","get","Search","data","console","log","message","className","type","placeholder","onChange","e","push","target","value","map","mov","to","src","alt","Movie","id","useParams","movie","setMovie","getMovie","error","imdbRating","class","Genre","Plot","Released","Director","Runtime","Production","onClick","length","goBack","App","path","component","exact","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.a19bd737.chunk.js","sourcesContent":["import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nconst queryString = require('query-string');\r\n\r\nexport const MovieList = () => {\r\n  // Hooks de react-router-dom\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [movies, setMovies] = useState([\r\n    {\r\n      Title: '',\r\n      Year: '',\r\n      imdbID: '',\r\n      Type: '',\r\n      Poster: '',\r\n      ok: true,\r\n    },\r\n  ]);\r\n  useEffect(() => {\r\n    // Sacamos la q de la barra de navegacion\r\n    const { q = '' } = queryString.parse(location.search);\r\n    if (q === '') {\r\n      setMovies([\r\n        {\r\n          Title: '',\r\n          Year: '',\r\n          imdbID: '',\r\n          Type: '',\r\n          Poster: '',\r\n          ok: true,\r\n        },\r\n      ]);\r\n    }\r\n    getMovies(q);\r\n  }, [location.search]);\r\n\r\n  const getMovies = async (q) => {\r\n    try {\r\n      const {\r\n        data: { Search },\r\n      } = await axios.get(`https://www.omdbapi.com/?apikey=d2bd72fb&s=${q}`);\r\n      setMovies(Search);\r\n    } catch (error) {\r\n      console.log('Error en getMovies', error.message);\r\n    }\r\n  };\r\n  const search = (e) => {\r\n    history.push('?q=' + e.target.value);\r\n    getMovies(e.target.value);\r\n  };\r\n  return (\r\n    <div className='container'>\r\n      <section className='col-md-8 form-group mx-auto mt-3'>\r\n        <h1 className='text-center text-white'>Movie Info</h1>\r\n        <input\r\n          type='text'\r\n          placeholder='Search'\r\n          className='form-control mt-3'\r\n          onChange={(e) => search(e)}\r\n        />\r\n      </section>\r\n      <section className='row'>\r\n        {typeof movies !== 'undefined' &&\r\n          movies[0].ok !== true &&\r\n          movies?.map((mov) => (\r\n            <Link\r\n              to={`/description/${mov.imdbID}`}\r\n              className='col-md-4 my-3 text-decoration-none'\r\n              key={mov.imdbID}\r\n            >\r\n              <div className='card'>\r\n                <div className='card-header'>\r\n                  <img\r\n                    src={mov.Poster === 'N/A' ? 'img/movieNA.jpg' : mov.Poster}\r\n                    alt='img peli'\r\n                    className='card-img-top'\r\n                  />\r\n                </div>\r\n                <div className='card-body'>\r\n                  <h4>{mov.Title} </h4>\r\n                </div>\r\n              </div>\r\n            </Link>\r\n          ))}\r\n      </section>\r\n    </div>\r\n  );\r\n};\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router';\r\n\r\nexport const Movie = () => {\r\n  const { id } = useParams();\r\n  const history = useHistory();\r\n  const [movie, setMovie] = useState({});\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const getMovie = async () => {\r\n        const { data } = await axios.get('https://www.omdbapi.com/?apikey=d2bd72fb&i=' + id);\r\n        setMovie(data);\r\n        console.log(data);\r\n      };\r\n      getMovie();\r\n    } catch (error) {\r\n      console.log('Error en getMovie', error.message);\r\n    }\r\n  }, [id]);\r\n\r\n  const handleClick = () => {\r\n    // Si la longitud del historial es menor o igual a 2 entonces lleveme a la pagina principal, de lo contrario retroceda\r\n    history.length <= 2 ? history.push('/') : history.goBack();\r\n  };\r\n\r\n  return (\r\n    <div className='container text-white mb-5'>\r\n      <h3 className='display-5 my-5 text-center'>{movie.Title} </h3>\r\n      <div className='card ps-3 mb-5'>\r\n        <div className='row'>\r\n          <div className='col-md-4 p-3'>\r\n            <img\r\n              src={movie.Poster === 'N/A' ? '/img/movieNA.jpg' : movie.Poster}\r\n              alt='imagen pelicula'\r\n              className='img-fluid'\r\n            />\r\n          </div>\r\n          <div className='col-md-8 p-3'>\r\n            <h4>\r\n              Description:{' '}\r\n              <span>\r\n                {' '}\r\n                <span className='badge bg-secondary'>\r\n                  <span className='me-2'>IMDB</span>\r\n                  {movie.imdbRating}\r\n                </span>\r\n                <i class='bi bi-star ms-2'></i>\r\n                <i class='bi bi-star'></i>\r\n                <i class='bi bi-star'></i>{' '}\r\n              </span>{' '}\r\n              <p className='lead mt-3 text-underline'>{movie.Genre} </p>\r\n            </h4>\r\n            <p>{movie.Plot} </p>\r\n            <p>\r\n              <span className='h4'>Released: </span> {movie.Released}\r\n            </p>\r\n            <p>\r\n              <span className='h5'>Director:</span> {movie.Director}\r\n            </p>\r\n            <p>\r\n              <span className='h5'>Duration:</span> {movie.Runtime}\r\n            </p>\r\n            <p>\r\n              <span className='h5'>Productora:</span> {movie.Production}\r\n            </p>\r\n            <button className='btn btn-success' onClick={handleClick}>\r\n              Volver\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom';\nimport { MovieList } from './components/MovieList';\nimport 'bootstrap/dist/css/bootstrap.css';\nimport 'bootstrap-icons/font/bootstrap-icons.css';\nimport { Movie } from './components/Movie';\n\nfunction App() {\n  return (\n    <Router>\n      <Route path='/description/:id' component={Movie} />\n      <Route path='/' exact component={MovieList} />\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './styles/app.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}